# پروپوزال پروژه MES Code Generator

## 🎯 هدف پروژه
پروژه "تولیدکننده کد MES" با هدف ساده‌سازی و استانداردسازی فرآیند تولید نرم‌افزارهای سازمانی (MES) طراحی شده است. این پروژه، یک ابزار تولید خودکار کد فراهم می‌کند که برای برنامه‌نویسان Backend و Frontend قابل استفاده است، نه کاربران نهایی.

## 👥 مخاطب اصلی
- توسعه‌دهندگان نرم‌افزار (Backend و Frontend)
- ابزارهای هوش مصنوعی مانند OpenAI Codex برای تولید کد

## ✅ نیازمندی‌های اصلی
- پشتیبانی از تولید لایه‌های مختلف نرم‌افزار:
  - DTOها
  - CQRS (Command, Query, Handler)
  - API Controllerها
  - رابط کاربری (UI) مبتنی بر Blazor شامل فرم‌های لیست و جزییات
- امکان تولید به دو روش:
  - تولید جزءبه‌جزء (Component-based)
  - تولید تجمیعی (Aggregated) با انتخاب یک جدول از دیتابیس یا یک DTO از پیش تعریف‌شده
- ذخیره metadata برای تولید مجدد دقیق کد بدون نیاز به اطلاعات جدید

## ✨ ویژگی‌های کلیدی
- انتخاب جدول یا DTO توسط برنامه‌نویس
- تولید خودکار کد در تمام لایه‌ها
- امکان مشاهده، ویرایش و تولید مجدد از طریق رابط WPF
- سازماندهی ساختار فایل‌ها براساس namespace
- هر کدی که تولید می‌شود، باید در یک **ماژول مشخص** قرار بگیرد و namespace آن دقیقاً مطابق با نام ماژول باشد.

## ⚙️ تنظیمات نرم‌افزار (Preferences)
ابزار تولیدکننده کد باید دارای یک بخش تنظیمات باشد که شامل موارد زیر است:
1. Connection String برای ذخیره و بازیابی Metadata از دیتابیس.
2. Namespace ریشه که نام ماژول به آن اضافه می‌شود.
3. مسیر پیش‌فرض برای ذخیره خروجی‌ها (DTO، CQRS، API، UI) به صورت تفکیک‌شده.

## 🧩 مفهوم Functionality در MES
در این پروژه، "Functionality" به معنای تولید کامل یک مسیر پردازش درخواست/پاسخ (pipeline) است که شامل تمام لایه‌های زیر می‌باشد:
- DTO
- CQRS (Command, Query, Handler)
- API Controller
- رابط کاربری Blazor (فرم‌های List و Details)

این فرآیند در صورتی انجام می‌شود که کاربر تنها یک جدول از دیتابیس یا یک DTO آماده را انتخاب کند، و سپس سیستم، تمام اجزاء لازم را به‌صورت یکپارچه تولید کند.

به این نوع تولید، **تولید تجمیعی (Aggregated Generation)** گفته می‌شود.

در مقابل، اگر برنامه‌نویس بخواهد هر بخش (مثلاً فقط DTO یا فقط Handler یا فقط کنترلر) را به‌صورت مستقل تولید کند، از **تولید جزءبه‌جزء (Component-based Generation)** استفاده می‌شود.

در UI ابزار Code Generator (WPF)، هر دو نوع تولید برای کاربر قابل دسترسی است.

## 🔐 الزامات امنیتی
- کنترل دسترسی مبتنی بر Claims
- محدودیت سطح منو، فرم، فیلد و اکشن با Attributeها
- احراز هویت با استفاده از JWT
- ⚠️ پیاده‌سازی امنیت در فاز پایانی پروژه انجام خواهد شد، اما باید از ابتدا، امکان ادغام آن در خروجی‌ها در نظر گرفته شود.

## 📦 ویژگی‌های خروجی کد
- کد تولیدشده آماده استفاده در محیط production
- شامل:
  - Application Layer (CQRS)
  - API Layer
  - UI (Blazor)
- رعایت کامل معماری CQRS بدون لایه Repository

## 🗂 ساختار فایل‌ها و پوشه‌ها
- سازماندهی کدها در پوشه‌های ساخت‌یافته براساس namespace (همراه با نام ماژول)
- ذخیره‌سازی metadata برای امکان بازتولید دقیق هر قطعه کد

## 📄 نقش این مستند
این فایل، مستندی تجاری برای معرفی پروژه MES Code Generator است که باید اولین مرجع مطالعه توسط هر هم‌تیمی یا ابزار هوش مصنوعی (مثل Codex) قبل از تعامل با پروژه باشد.