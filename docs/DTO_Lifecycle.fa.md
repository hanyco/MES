# چرخه مدیریت DTO

این فایل توضیح می‌دهد که از لحظه تعریف DTO در UI ابزار Code Generator تا ذخیره متادیتا و کد نهایی در دیسک چه مراحلی طی می‌شود.

## 1. تعریف در UI
- در برنامه WPF، کاربر می‌تواند با انتخاب جدول دیتابیس یا ساخت دستی، فیلدهای DTO را مشخص کند.
- هر DTO در یک ماژول قرار می‌گیرد تا در ساختار پوشه و namespace لحاظ شود.

## 2. ذخیره در دیتابیس
- پس از تأیید کاربر، سرویس `DtoCrudService` اطلاعات DTO را در جدول `Dto` و پراپرتی‌ها را در جدول `Property` ثبت می‌کند.
- ارتباط بین DTO و سایر بخش‌ها (مثل CQRS) نیز از طریق شناسه‌ها ذخیره می‌شود تا امکان بازتولید فراهم گردد.

## 3. تولید کد روی دیسک
- `DtoCodeGenService` طبق متادیتای ثبت‌شده، کلاس `partial` DTO را ایجاد کرده و در پوشه مربوط به ماژول ذخیره می‌کند.
- اگر مسیر خروجی در قسمت Preferences تغییر داده شده باشد، فایل‌ها در همان مسیر جدید ایجاد می‌شوند.

## 4. بازتولید و ویرایش
- متادیتای ذخیره‌شده اجازه می‌دهد در هر زمان، DTO یا لایه‌های مرتبط مجدد تولید شوند.
- توسعه‌دهنده می‌تواند منطق دلخواه را در فایل‌های `partial` جداگانه اضافه کند و این فایل‌ها هنگام بازتولید دست‌نخورده می‌مانند.

---

*مطالعه این مستند برای درک کامل فرآیند مدیریت DTO از UI تا دیتابیس و دیسک توصیه می‌شود.*
